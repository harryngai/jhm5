<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº•å­—éŠæˆ²</title>
    <style>
        /* å…¨åŸŸæ¨£å¼è¨­å®š */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ä¸»é«”èƒŒæ™¯è¨­è¨ˆ */
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
        }

        /* éŠæˆ²å®¹å™¨ */
        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 0.5s ease-out;
            max-width: 600px;
        }

        /* æ·¡å…¥å‹•ç•« */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æ¨™é¡Œæ¨£å¼ */
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        /* ç™¼å…‰å‹•ç•« */
        @keyframes glow {
            from {
                text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #667eea, 0 0 20px #667eea;
            }
            to {
                text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #764ba2, 0 0 40px #764ba2;
            }
        }

        /* æ¨¡å¼é¸æ“‡å€ */
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        /* æŒ‰éˆ•åŸºç¤æ¨£å¼ */
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        /* å•Ÿç”¨ç‹€æ…‹çš„æŒ‰éˆ• */
        button.active {
            background: linear-gradient(45deg, #f093fb, #f5576c);
        }

        /* éŠæˆ²è³‡è¨Šå€ */
        .game-info {
            text-align: center;
            margin-bottom: 20px;
        }

        /* ç•¶å‰ç©å®¶é¡¯ç¤º */
        .current-player {
            font-size: 1.5em;
            margin-bottom: 10px;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* åˆ†æ•¸æ¿ */
        .score-board {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .score {
            font-size: 1.2em;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        /* éŠæˆ²æ£‹ç›¤ */
        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 100px);
            grid-template-rows: repeat(5, 100px);
            gap: 8px;
            margin: 0 auto 20px;
        }

        /* æ ¼å­æ¨£å¼ */
        .cell {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cell:hover:not(.occupied) {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        /* å·²ä½”ç”¨çš„æ ¼å­ */
        .cell.occupied {
            cursor: not-allowed;
        }

        /* Xå’ŒOçš„æ¨£å¼ */
        .cell.x {
            color: #f093fb;
            animation: placeX 0.5s ease;
        }

        .cell.o {
            color: #4facfe;
            animation: placeO 0.5s ease;
        }

        /* æ”¾ç½®å‹•ç•« */
        @keyframes placeX {
            from {
                transform: scale(0) rotate(180deg);
                opacity: 0;
            }
            to {
                transform: scale(1) rotate(0);
                opacity: 1;
            }
        }

        @keyframes placeO {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* ç²å‹ç·šæ¢ */
        .winning-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, #ffd700, transparent);
            height: 5px;
            width: 100%;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            animation: winLine 0.5s ease;
        }

        @keyframes winLine {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }

        /* çµæœè¨Šæ¯ */
        .result-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px 50px;
            border-radius: 20px;
            font-size: 2em;
            z-index: 1000;
            animation: resultPop 0.5s ease;
            display: none;
        }

        @keyframes resultPop {
            from {
                transform: translate(-50%, -50%) scale(0);
            }
            to {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* æ§åˆ¶æŒ‰éˆ•å€ */
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        /* éŸ³æ•ˆæ§åˆ¶ */
        .sound-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sound-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* éŸ³æ•ˆåœ–æ¨™ */
        .sound-icon {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <!-- éŸ³æ•ˆé–‹é—œ -->
    <div class="sound-toggle" onclick="toggleSound()">
        <span class="sound-icon" id="soundIcon">ğŸ”Š</span>
    </div>

    <!-- éŠæˆ²ä¸»å®¹å™¨ -->
    <div class="game-container">
        <h1>âœ¨ äº•å­—éŠæˆ² 5Ã—5 âœ¨</h1>
        <p style="text-align: center; margin-bottom: 20px; opacity: 0.8;">4å€‹é€£çºŒå³å¯ç²å‹</p>
        
        <!-- æ¨¡å¼é¸æ“‡ -->
        <div class="mode-selector">
            <button id="singlePlayerBtn" onclick="setMode('single')">å–®äººæ¨¡å¼</button>
            <button id="twoPlayerBtn" onclick="setMode('two')" class="active">é›™äººæ¨¡å¼</button>
        </div>

        <!-- éŠæˆ²è³‡è¨Š -->
        <div class="game-info">
            <div class="current-player" id="currentPlayer">ç©å®¶ X çš„å›åˆ</div>
            
            <!-- åˆ†æ•¸æ¿ -->
            <div class="score-board">
                <div class="score">X: <span id="scoreX">0</span></div>
                <div class="score">O: <span id="scoreO">0</span></div>
                <div class="score">å¹³å±€: <span id="scoreDraw">0</span></div>
            </div>
        </div>

        <!-- éŠæˆ²æ£‹ç›¤ -->
        <div class="game-board" id="gameBoard">
            <!-- 9å€‹æ ¼å­æœƒç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
        </div>

        <!-- æ§åˆ¶æŒ‰éˆ• -->
        <div class="controls">
            <button onclick="resetGame()">é‡æ–°é–‹å§‹</button>
            <button onclick="resetScores()">é‡ç½®åˆ†æ•¸</button>
        </div>
    </div>

    <!-- çµæœè¨Šæ¯ -->
    <div class="result-message" id="resultMessage"></div>

    <script>
        // éŠæˆ²ç‹€æ…‹è®Šæ•¸
        let currentPlayer = 'X'; // ç•¶å‰ç©å®¶
        let gameBoard = Array(25).fill(''); // 5x5æ£‹ç›¤ç‹€æ…‹
        let gameActive = true; // éŠæˆ²æ˜¯å¦é€²è¡Œä¸­
        let gameMode = 'two'; // éŠæˆ²æ¨¡å¼ï¼š'single' æˆ– 'two'
        let soundEnabled = true; // éŸ³æ•ˆé–‹é—œ
        let scores = { X: 0, O: 0, draw: 0 }; // åˆ†æ•¸è¨˜éŒ„

        // ç²å‹çµ„åˆï¼ˆ5x5æ£‹ç›¤ï¼Œ4å€‹é€£çºŒå³å¯ç²å‹ï¼‰
        function generateWinningConditions() {
            const conditions = [];
            
            // æ©«å‘ç²å‹ï¼ˆæ¯è¡Œæª¢æŸ¥4å€‹é€£çºŒï¼‰
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col <= 1; col++) {
                    conditions.push([
                        row * 5 + col,
                        row * 5 + col + 1,
                        row * 5 + col + 2,
                        row * 5 + col + 3
                    ]);
                }
            }
            
            // ç¸±å‘ç²å‹ï¼ˆæ¯åˆ—æª¢æŸ¥4å€‹é€£çºŒï¼‰
            for (let col = 0; col < 5; col++) {
                for (let row = 0; row <= 1; row++) {
                    conditions.push([
                        row * 5 + col,
                        (row + 1) * 5 + col,
                        (row + 2) * 5 + col,
                        (row + 3) * 5 + col
                    ]);
                }
            }
            
            // å·¦ä¸Šåˆ°å³ä¸‹å°è§’ç·š
            for (let row = 0; row <= 1; row++) {
                for (let col = 0; col <= 1; col++) {
                    conditions.push([
                        row * 5 + col,
                        (row + 1) * 5 + (col + 1),
                        (row + 2) * 5 + (col + 2),
                        (row + 3) * 5 + (col + 3)
                    ]);
                }
            }
            
            // å³ä¸Šåˆ°å·¦ä¸‹å°è§’ç·š
            for (let row = 0; row <= 1; row++) {
                for (let col = 3; col < 5; col++) {
                    conditions.push([
                        row * 5 + col,
                        (row + 1) * 5 + (col - 1),
                        (row + 2) * 5 + (col - 2),
                        (row + 3) * 5 + (col - 3)
                    ]);
                }
            }
            
            return conditions;
        }
        
        const winningConditions = generateWinningConditions();

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';
            
            // å‰µå»º25å€‹æ ¼å­ï¼ˆ5x5ï¼‰
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', handleCellClick);
                board.appendChild(cell);
            }
            
            // è¼‰å…¥åˆ†æ•¸
            loadScores();
        }

        // è™•ç†æ ¼å­é»æ“Š
        function handleCellClick(event) {
            const cell = event.target;
            const index = parseInt(cell.getAttribute('data-index'));
            
            // æª¢æŸ¥æ˜¯å¦å¯ä»¥ä¸‹æ£‹
            if (gameBoard[index] !== '' || !gameActive) {
                return;
            }
            
            // ä¸‹æ£‹
            makeMove(index, cell);
            
            // å–®äººæ¨¡å¼ä¸‹ï¼Œé›»è…¦å›åˆ
            if (gameMode === 'single' && gameActive && currentPlayer === 'O') {
                // é¡¯ç¤ºæ€è€ƒä¸­çš„æç¤º
                const playerDiv = document.getElementById('currentPlayer');
                playerDiv.textContent = 'é›»è…¦æ€è€ƒä¸­...';
                
                setTimeout(computerMove, 600);
            }
        }

        // åŸ·è¡Œç§»å‹•
        function makeMove(index, cell) {
            gameBoard[index] = currentPlayer;
            cell.textContent = currentPlayer;
            cell.classList.add('occupied', currentPlayer.toLowerCase());
            
            // æ’­æ”¾éŸ³æ•ˆ
            playSound('place');
            
            // æª¢æŸ¥éŠæˆ²çµæœ
            checkResult();
        }

        // é›»è…¦AIç§»å‹•
        function computerMove() {
            if (!gameActive) return;
            
            // ä½¿ç”¨Minimaxç®—æ³•æ‰¾åˆ°æœ€ä½³ç§»å‹•
            const bestMove = findBestMoveWithMinimax();
            
            if (bestMove !== -1) {
                const cell = document.querySelector(`[data-index="${bestMove}"]`);
                makeMove(bestMove, cell);
            }
        }

        // Minimaxç®—æ³•å¯¦ç¾
        function minimax(board, depth, isMaximizing, alpha, beta) {
            // æª¢æŸ¥çµ‚æ­¢æ¢ä»¶
            if (checkWinner('O')) return 10 - depth; // AIç²å‹
            if (checkWinner('X')) return depth - 10; // ç©å®¶ç²å‹
            if (!board.includes('') || depth > 6) return 0; // å¹³å±€æˆ–æ·±åº¦é™åˆ¶
            
            if (isMaximizing) {
                let maxScore = -Infinity;
                
                for (let i = 0; i < 25; i++) {
                    if (board[i] === '') {
                        board[i] = 'O';
                        let score = minimax(board, depth + 1, false, alpha, beta);
                        board[i] = '';
                        
                        maxScore = Math.max(maxScore, score);
                        alpha = Math.max(alpha, score);
                        
                        if (beta <= alpha) break; // Alpha-Betaå‰ªæ
                    }
                }
                
                return maxScore;
            } else {
                let minScore = Infinity;
                
                for (let i = 0; i < 25; i++) {
                    if (board[i] === '') {
                        board[i] = 'X';
                        let score = minimax(board, depth + 1, true, alpha, beta);
                        board[i] = '';
                        
                        minScore = Math.min(minScore, score);
                        beta = Math.min(beta, score);
                        
                        if (beta <= alpha) break; // Alpha-Betaå‰ªæ
                    }
                }
                
                return minScore;
            }
        }

        // ä½¿ç”¨Minimaxæ‰¾åˆ°æœ€ä½³ç§»å‹•
        function findBestMoveWithMinimax() {
            let bestScore = -Infinity;
            let bestMove = -1;
            
            // é¦–å…ˆæª¢æŸ¥æ˜¯å¦å¯ä»¥ç«‹å³ç²å‹
            for (let i = 0; i < 25; i++) {
                if (gameBoard[i] === '') {
                    gameBoard[i] = 'O';
                    if (checkWinner('O')) {
                        gameBoard[i] = '';
                        return i;
                    }
                    gameBoard[i] = '';
                }
            }
            
            // æª¢æŸ¥æ˜¯å¦éœ€è¦ç«‹å³é˜»æ“‹
            for (let i = 0; i < 25; i++) {
                if (gameBoard[i] === '') {
                    gameBoard[i] = 'X';
                    if (checkWinner('X')) {
                        gameBoard[i] = '';
                        return i;
                    }
                    gameBoard[i] = '';
                }
            }
            
            // å„ªå…ˆè€ƒæ…®ä¸­å¿ƒå’Œé—œéµä½ç½®
            const priorityMoves = [12, 6, 8, 16, 18, 7, 11, 13, 17];
            const availablePriority = priorityMoves.filter(pos => gameBoard[pos] === '');
            
            // å¦‚æœæ˜¯é–‹å±€ï¼Œå„ªå…ˆé¸æ“‡ä¸­å¿ƒæˆ–é—œéµä½ç½®
            const moveCount = gameBoard.filter(cell => cell !== '').length;
            if (moveCount <= 2 && availablePriority.length > 0) {
                return availablePriority[0];
            }
            
            // ä½¿ç”¨Minimaxè©•ä¼°æ¯å€‹å¯èƒ½çš„ç§»å‹•
            const possibleMoves = [];
            
            for (let i = 0; i < 25; i++) {
                if (gameBoard[i] === '') {
                    gameBoard[i] = 'O';
                    let score = minimax(gameBoard, 0, false, -Infinity, Infinity);
                    gameBoard[i] = '';
                    
                    possibleMoves.push({ position: i, score: score });
                    
                    if (score > bestScore) {
                        bestScore = score;
                        bestMove = i;
                    }
                }
            }
            
            // å¦‚æœæœ‰å¤šå€‹ç›¸åŒåˆ†æ•¸çš„ç§»å‹•ï¼Œå„ªå…ˆé¸æ“‡æˆ°ç•¥ä½ç½®
            const topMoves = possibleMoves.filter(move => move.score === bestScore);
            if (topMoves.length > 1) {
                // å„ªå…ˆé¸æ“‡ä¸­å¿ƒå€åŸŸçš„ç§»å‹•
                const centerMoves = topMoves.filter(move => priorityMoves.includes(move.position));
                if (centerMoves.length > 0) {
                    return centerMoves[0].position;
                }
            }
            
            return bestMove;
        }

        // æª¢æŸ¥æ˜¯å¦æœ‰ç²å‹è€…
        function checkWinner(player) {
            return winningConditions.some(condition => {
                return condition.every(index => gameBoard[index] === player);
            });
        }

        // è©•ä¼°æ£‹ç›¤ä½ç½®çš„æˆ°ç•¥åƒ¹å€¼
        function evaluatePosition(board) {
            let score = 0;
            
            // è©•ä¼°æ¯å€‹å¯èƒ½çš„4é€£ç·š
            for (let condition of winningConditions) {
                let xCount = 0;
                let oCount = 0;
                
                for (let pos of condition) {
                    if (board[pos] === 'X') xCount++;
                    else if (board[pos] === 'O') oCount++;
                }
                
                // æ ¹æ“šé€£ç·šæƒ…æ³çµ¦åˆ†
                if (oCount > 0 && xCount === 0) {
                    // AIçš„æ½›åœ¨é€£ç·š
                    if (oCount === 3) score += 50;
                    else if (oCount === 2) score += 10;
                    else if (oCount === 1) score += 1;
                } else if (xCount > 0 && oCount === 0) {
                    // ç©å®¶çš„æ½›åœ¨é€£ç·šï¼ˆéœ€è¦é˜»æ“‹ï¼‰
                    if (xCount === 3) score -= 50;
                    else if (xCount === 2) score -= 10;
                    else if (xCount === 1) score -= 1;
                }
            }
            
            return score;
        }

        // æª¢æŸ¥éŠæˆ²çµæœ
        function checkResult() {
            let roundWon = false;
            
            // æª¢æŸ¥ç•¶å‰ç©å®¶æ˜¯å¦ç²å‹
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c, d] = winningConditions[i];
                if (gameBoard[a] && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c] && gameBoard[a] === gameBoard[d]) {
                    roundWon = true;
                    highlightWinningCells([a, b, c, d]);
                    break;
                }
            }
            
            if (roundWon) {
                gameActive = false;
                showResult(`ç©å®¶ ${currentPlayer} ç²å‹ï¼ğŸ‰`);
                scores[currentPlayer]++;
                updateScores();
                playSound('win');
                return;
            }
            
            // æª¢æŸ¥å¹³å±€
            if (!gameBoard.includes('')) {
                gameActive = false;
                showResult('å¹³å±€ï¼ğŸ¤');
                scores.draw++;
                updateScores();
                playSound('draw');
                return;
            }
            
            // åˆ‡æ›ç©å®¶
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            updateCurrentPlayer();
        }

        // çªå‡ºé¡¯ç¤ºç²å‹æ ¼å­
        function highlightWinningCells(cells) {
            cells.forEach(index => {
                const cell = document.querySelector(`[data-index="${index}"]`);
                cell.style.background = 'rgba(255, 215, 0, 0.3)';
                cell.style.transform = 'scale(1.1)';
            });
        }

        // é¡¯ç¤ºçµæœ
        function showResult(message) {
            const resultDiv = document.getElementById('resultMessage');
            resultDiv.textContent = message;
            resultDiv.style.display = 'block';
            
            setTimeout(() => {
                resultDiv.style.display = 'none';
            }, 2000);
        }

        // æ›´æ–°ç•¶å‰ç©å®¶é¡¯ç¤º
        function updateCurrentPlayer() {
            const playerDiv = document.getElementById('currentPlayer');
            const playerName = gameMode === 'single' && currentPlayer === 'O' ? 'é›»è…¦' : `ç©å®¶ ${currentPlayer}`;
            playerDiv.textContent = `${playerName} çš„å›åˆ`;
        }

        // è¨­ç½®éŠæˆ²æ¨¡å¼
        function setMode(mode) {
            gameMode = mode;
            document.getElementById('singlePlayerBtn').classList.toggle('active', mode === 'single');
            document.getElementById('twoPlayerBtn').classList.toggle('active', mode === 'two');
            resetGame();
        }

        // é‡ç½®éŠæˆ²
        function resetGame() {
            gameBoard = Array(25).fill('');
            gameActive = true;
            currentPlayer = 'X';
            updateCurrentPlayer();
            
            // æ¸…ç©ºæ£‹ç›¤
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => {
                cell.textContent = '';
                cell.classList.remove('occupied', 'x', 'o');
                cell.style.background = '';
                cell.style.transform = '';
            });
        }

        // æ›´æ–°åˆ†æ•¸é¡¯ç¤º
        function updateScores() {
            document.getElementById('scoreX').textContent = scores.X;
            document.getElementById('scoreO').textContent = scores.O;
            document.getElementById('scoreDraw').textContent = scores.draw;
            saveScores();
        }

        // é‡ç½®åˆ†æ•¸
        function resetScores() {
            scores = { X: 0, O: 0, draw: 0 };
            updateScores();
        }

        // å„²å­˜åˆ†æ•¸åˆ°ç€è¦½å™¨
        function saveScores() {
            // æ³¨æ„ï¼šåœ¨Claudeç’°å¢ƒä¸­ä¸èƒ½ä½¿ç”¨localStorage
            // é€™è£¡åªæ˜¯ç¤ºæ„ï¼Œå¯¦éš›ä½¿ç”¨æ™‚å¯ä»¥å•Ÿç”¨
            // localStorage.setItem('ticTacToeScores', JSON.stringify(scores));
        }

        // è¼‰å…¥åˆ†æ•¸
        function loadScores() {
            // æ³¨æ„ï¼šåœ¨Claudeç’°å¢ƒä¸­ä¸èƒ½ä½¿ç”¨localStorage
            // const saved = localStorage.getItem('ticTacToeScores');
            // if (saved) {
            //     scores = JSON.parse(saved);
            //     updateScores();
            // }
            updateScores();
        }

        // åˆ‡æ›éŸ³æ•ˆ
        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundIcon').textContent = soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
        }

        // æ’­æ”¾éŸ³æ•ˆ
        function playSound(type) {
            if (!soundEnabled) return;
            
            // ä½¿ç”¨Web Audio APIå‰µå»ºç°¡å–®éŸ³æ•ˆ
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch(type) {
                case 'place':
                    oscillator.frequency.value = 600;
                    gainNode.gain.value = 0.1;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.1);
                    break;
                case 'win':
                    oscillator.frequency.value = 800;
                    gainNode.gain.value = 0.2;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.3);
                    break;
                case 'draw':
                    oscillator.frequency.value = 400;
                    gainNode.gain.value = 0.1;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.2);
                    break;
            }
        }

        // åˆå§‹åŒ–éŠæˆ²
        initGame();
    </script>
</body>
</html>